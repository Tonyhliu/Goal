{"version":3,"sources":["webpack:///webpack/bootstrap 156ac7ab35f1d67f802a","webpack:///./lib/goal.js","webpack:///./lib/game.js","webpack:///./lib/player.js","webpack:///./lib/paddle.js","webpack:///./lib/soccerball.js","webpack:///./lib/computer.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,EAAC;;;;;;;ACbD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;;;;;;;ACzGA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;;;AAGA;;;;;;;ACrDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;;;;;AC7BA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AClFA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA","file":"./lib/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 156ac7ab35f1d67f802a\n **/","const Game = require('./game');\n\ndocument.addEventListener(\"DOMContentLoaded\", function(ctx, width, height) {\n  const canvas = document.getElementsByTagName(\"canvas\")[0];\n\n  canvas.width = 1100;\n  canvas.height = 600;\n  this.ctx = canvas.getContext(\"2d\");\n  this.width = canvas.width;\n  this.height = canvas.height;\n\n  const game = new Game(this.ctx, this.width, this.height);\n  game.renderGameStart();\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/goal.js\n ** module id = 0\n ** module chunks = 0\n **/","const Player = require('./player');\n// const Ball = require('./ball');\nconst SoccerBall = require('./soccerball');\nconst Computer = require('./computer');\n\nconst Game = function(ctx, width, height) {\n  // canvas.width = window.innerWidth;\n  // canvas.height = window.innerHeight;\n  this.width = width;\n  this.height = height;\n  this.ctx = ctx;\n\n  this.player = new Player(this.ctx);\n  this.computer = new Computer(this.ctx);\n  this.ball = new SoccerBall(this.width/2, this.height/2, this.ctx, this);\n\n  this.playerScore = 0;\n  this.computerScore = 0;\n};\n\n// Runs game\nconst animate = window.requestAnimationFrame ||\n          window.webkitRequestAnimationFrame ||\n          window.mozRequestAnimationFrame    ||\n            function(cb) {\n              window.setTimeout(cb, 1000 / 60);\n            };\n\nGame.prototype.renderGameStart = function () {\n  $('.new').html(\"Welcome to GOAL. <br> Use the up & down arrow keys to outscore your opponent! <br> <br> Click to start\");\n  $('.new').on('click', this.start.bind(this));\n};\n\nGame.prototype.start = function() {\n  document.getElementById('whistle').play();\n  $(\".new\").html(\"\");\n  $(\".new\").css(\"padding\", 0);\n  this.animation = animate(this.step.bind(this));\n};\n\nGame.prototype.step = function() {\n  this.update();\n  this.render();\n  if (this.playerScore === 7) {\n    this.renderGameOver(\"player\");\n  } else if (this.computerScore === 7) {\n    this.renderGameOver(\"computer\");\n  } else {\n    animate(this.step.bind(this));\n  }\n};\n\nGame.prototype.renderGameOver = function (winner) {\n  $('.retry').html(winner + \" wins! Try again?\");\n  $('.retry').on('click', this.reset.bind(this));\n};\n\nGame.prototype.drawDotted = function() {\n  this.ctx.beginPath();\n    this.ctx.setLineDash([5, 15]);\n    this.ctx.lineWidth = 6;\n    this.ctx.moveTo(this.width/2, 0);\n    this.ctx.lineTo(this.width/2, this.height);\n  this.ctx.closePath();\n  this.ctx.strokeStyle = '#DCDCDC';\n  this.ctx.stroke();\n};\n\nGame.prototype.update = function() {\n  this.ball.update(this.player.paddle, this.computer.paddle);\n  this.computer.update(this.ball);\n  this.player.update();\n};\n\nGame.prototype.reset = function () {\n  this.ctx.clearRect (0, 0, this.width, this.height);\n  this.playerScore = 0;\n  this.computerScore = 0;\n  this.player.reset();\n  this.computer.reset();\n  $('.retry').html('');\n  window.cancelAnimationFrame(this.animation);\n  this.start();\n};\n\nGame.prototype.score = function(){\n  this.ctx.font = '90px Roboto';\n  this.ctx.fillStyle = \"#000\";\n  this.ctx.fillText(this.computerScore, 430, 90);\n  this.ctx.fillText(this.playerScore, 620, 90);\n};\n\nGame.prototype.render = function() {\n  this.ctx.fillStyle = \"#4CAF50\";\n  this.ctx.fillRect(0, 0, this.width, this.height);\n\n  this.drawDotted();\n  this.score();\n\n  this.player.render();\n  this.computer.render();\n  this.ball.render();\n};\n\n\nmodule.exports = Game;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/game.js\n ** module id = 1\n ** module chunks = 0\n **/","const Paddle = require('./paddle');\n\nconst Player = function(ctx) {\n  this.keys = new KeyListener();\n  this.paddle = new Paddle(1070, 250, 15, 100, ctx);\n};\n\nPlayer.prototype.render = function() {\n  this.paddle.render();\n};\n\nPlayer.prototype.update = function() {\n  if (this.keys.isPressed(38)) {\n    this.paddle.move(-5);\n  } else if (this.keys.isPressed(40)) {\n    this.paddle.move(5);\n  }\n};\n\nPlayer.prototype.reset = function() {\n  this.paddle.reset(1070, 250);\n};\n\nfunction KeyListener() {\n  this.pressedKeys = [];\n\n  this.keydown = function(e) {\n    this.pressedKeys[e.keyCode] = true;\n  };\n\n  this.keyup = function(e) {\n    this.pressedKeys[e.keyCode] = false;\n  };\n\n  // bind this to KeyListener object NOT the event caller\n  document.addEventListener(\"keydown\", this.keydown.bind(this));\n  document.addEventListener(\"keyup\", this.keyup.bind(this));\n}\n\n// KeyListeners / KeyPressers\nKeyListener.prototype.isPressed = function(key) {\n  return this.pressedKeys[key] ? true : false;\n};\n\nKeyListener.prototype.addKeyPressListener = function(keyCode, cb) {\n  document.addEventListener(\"keypress\", function(e) {\n      if (e.keyCode === keyCode) {\n        cb(e);\n      }\n  });\n};\n\n\nmodule.exports = Player;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/player.js\n ** module id = 2\n ** module chunks = 0\n **/","const Paddle = function(x, y, width, height, ctx) {\n  this.x = x;\n  this.y = y;\n  this.width = width;\n  this.height = height;\n  this.x_speed = 0;\n  this.y_speed = 0;\n  this.ctx = ctx;\n};\n\nPaddle.prototype.render = function () {\n  this.ctx.fillStyle = \"white\";\n  this.ctx.fillRect(this.x, this.y, this.width, this.height);\n};\n\nPaddle.prototype.move = function(y) {\n  this.y += y;\n  if (this.y < 0) {\n    this.y = 0;\n  } else if (this.y + this.height > 600) {\n    this.y = 600 - this.height;\n  }\n};\n\nPaddle.prototype.reset = function (x, y) {\n  this.x = x;\n  this.y = y;\n};\n\nmodule.exports = Paddle;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/paddle.js\n ** module id = 3\n ** module chunks = 0\n **/","const Game = require('./game');\n\nconst SoccerBall = function(x, y, ctx, game) {\n  this.ctx = ctx;\n  this.x = x;\n  this.y = y;\n  this.dx = 10;\n  this.dy = 0;\n  this.ballRadius = 15;\n  this.game = game;\n};\n\nSoccerBall.prototype.render = function() {\n  const ballImg = new Image();\n  ballImg.src = \"http://res.cloudinary.com/dcbb8bnvk/image/upload/v1468795826/ball_iw2htt.png\";\n  this.ctx.drawImage(ballImg, this.x, this.y, 40, 40);\n};\n\nSoccerBall.prototype.update = function (pad1, pad2) {\n  this.x += this.dx;\n  this.y += this.dy;\n\n  const leftX = this.x - this.ballRadius;\n  const rightX = this.x + this.ballRadius;\n  const topY = this.y - this.ballRadius;\n  const botY = this.y + this.ballRadius;\n\n  // hit top wall\n  if (this.y - this.ballRadius < 0 ) {\n    this.y = this.ballRadius;\n    this.dy = -this.dy;\n  } else if (this.y + this.ballRadius > 600) {\n    this.y = 585;\n    this.dy = -this.dy;\n  }\n\n  // point was scored\n  if (this.x < 0) {\n    document.getElementById('ole').play();\n    this.game.playerScore += 1;\n    this.dx = -this.dx;\n    this.dy = -this.dy;\n    this.x = 550;\n    this.y = 300;\n  } else if (this.x > 1100) {\n    document.getElementById('ole').play();\n    this.game.computerScore += 1;\n    this.dx = this.dx;\n    this.dy = -this.dy;\n    this.x = 350;\n    this.y = 300;\n  }\n\n  if (leftX < (pad1.x + pad1.width)\n      && rightX + 20 > pad1.x\n      && botY > pad1.y\n      && topY < (pad1.y + pad1.height)) {\n        const relativeIntersectY = (pad1.y + (pad1.height / 2)) - this.y;\n        const normalizedY = (relativeIntersectY / (pad1.height / 2));\n        const bounceAngle = normalizedY * 3 * Math.PI/12;\n        this.dx = -12 * Math.cos(bounceAngle);\n        this.dy = 12 * Math.sin(bounceAngle);\n      }\n  else if (leftX < (pad2.x + pad2.width)\n      && rightX - 30 > pad2.x\n      && botY > pad2.y\n      && topY < (pad2.y + pad2.height)) {\n        const relativeIntersectY = (pad2.y + (pad2.height / 2)) - this.y;\n        const normalizedY = (relativeIntersectY / (pad2.height / 2));\n        const bounceAngle = normalizedY * 3*Math.PI/12;\n        this.dx = 12 * Math.cos(bounceAngle);\n        this.dy = 12 * -Math.sin(bounceAngle);\n      }\n};\n\nSoccerBall.prototype.reset = function () {\n  this.x = 450;\n  this.y = 300;\n  this.dx = 12;\n  this.dy = 0;\n};\n\nmodule.exports = SoccerBall;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/soccerball.js\n ** module id = 4\n ** module chunks = 0\n **/","const Paddle = require('./paddle');\n\nconst Computer = function(ctx) {\n  this.paddle = new Paddle(10, 250, 15, 100, ctx);\n};\n\nComputer.prototype.render = function () {\n  this.paddle.render();\n};\n\nComputer.prototype.update = function (ball) {\n  const ballPosY = ball.y;\n\n  let diff = -((this.paddle.y + (this.paddle.height / 2)) - ballPosY);\n\n  if (diff < -4) {\n    diff = -5;\n  } else if (diff > 4) {\n    diff = 5;\n  }\n\n  this.paddle.move(diff - 1.5);\n  if (this.paddle.y < 0) {\n    this.paddle.y = 0;\n  } else if (this.paddle.y + this.paddle.height > 600) {\n    this.paddle.y = 600 - this.paddle.height;\n  }\n};\n\nComputer.prototype.reset = function () {\n  this.paddle.reset(10, 250);\n};\n\nmodule.exports = Computer;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/computer.js\n ** module id = 5\n ** module chunks = 0\n **/"],"sourceRoot":""}